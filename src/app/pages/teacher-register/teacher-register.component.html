<div class="teacher-register-page">
  <div class="register-container">
    <div class="register-header">
      <a routerLink="/" class="logo-link">
        <i class="fas fa-graduation-cap"></i>
        <span>EduConnect</span>
      </a>
      <h1><i class="fas fa-chalkboard-teacher"></i> Inscription Professeur</h1>
      <p>Créez votre compte et votre profil professeur en une seule étape</p>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
      <!-- Section 1: Informations de compte -->
      <div class="form-section">
        <h2><i class="fas fa-user"></i> Informations de compte</h2>
        
        <div class="form-row">
          <div class="form-group">
            <label for="fullName">
              <i class="fas fa-user"></i> Nom complet *
            </label>
            <input
              type="text"
              id="fullName"
              formControlName="fullName"
              placeholder="Jean Dupont"
              [class.error]="f['fullName'].invalid && f['fullName'].touched"
            />
            <div class="error-message" *ngIf="f['fullName'].invalid && f['fullName'].touched">
              Le nom complet est requis (minimum 3 caractères)
            </div>
          </div>

          <div class="form-group">
            <label for="email">
              <i class="fas fa-envelope"></i> Adresse email *
            </label>
            <input
              type="email"
              id="email"
              formControlName="email"
              placeholder="jean@example.com"
              [class.error]="f['email'].invalid && f['email'].touched"
            />
            <div class="error-message" *ngIf="f['email'].invalid && f['email'].touched">
              <span *ngIf="f['email'].errors?.['required']">L'email est requis</span>
              <span *ngIf="f['email'].errors?.['email']">L'email n'est pas valide</span>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="phone">
              <i class="fas fa-phone"></i> Téléphone <span class="optional">(optionnel)</span>
            </label>
            <input
              type="tel"
              id="phone"
              formControlName="phone"
              placeholder="+33 6 12 34 56 78"
              [class.error]="f['phone'].invalid && f['phone'].touched"
            />
            <div class="error-message" *ngIf="f['phone'].invalid && f['phone'].touched">
              Le numéro de téléphone n'est pas valide
            </div>
          </div>

          <div class="form-group">
            <label for="photo">
              <i class="fas fa-image"></i> Photo (URL) <span class="optional">(optionnel)</span>
            </label>
            <input
              type="url"
              id="photo"
              formControlName="photo"
              placeholder="https://exemple.com/photo.jpg"
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="password">
              <i class="fas fa-lock"></i> Mot de passe *
            </label>
            <input
              type="password"
              id="password"
              formControlName="password"
              placeholder="••••••••"
              [class.error]="f['password'].invalid && f['password'].touched"
            />
            <div class="error-message" *ngIf="f['password'].invalid && f['password'].touched">
              <span *ngIf="f['password'].errors?.['required']">Le mot de passe est requis</span>
              <span *ngIf="f['password'].errors?.['minlength']">Le mot de passe doit contenir au moins 8 caractères</span>
            </div>
          </div>

          <div class="form-group">
            <label for="confirmPassword">
              <i class="fas fa-lock"></i> Confirmer le mot de passe *
            </label>
            <input
              type="password"
              id="confirmPassword"
              formControlName="confirmPassword"
              placeholder="••••••••"
              [class.error]="registerForm.errors?.['passwordMismatch'] || (f['confirmPassword'].invalid && f['confirmPassword'].touched)"
            />
            <div class="error-message" *ngIf="registerForm.errors?.['passwordMismatch'] && f['confirmPassword'].touched">
              Les mots de passe ne correspondent pas
            </div>
            <div class="error-message" *ngIf="f['confirmPassword'].invalid && f['confirmPassword'].touched && !registerForm.errors?.['passwordMismatch']">
              La confirmation du mot de passe est requise
            </div>
          </div>
        </div>
      </div>

      <!-- Section 2: Informations professeur -->
      <div class="form-section">
        <h2><i class="fas fa-chalkboard-teacher"></i> Informations d'enseignement</h2>

        <div class="form-row">
          <div class="form-group">
            <label for="prenom">
              <i class="fas fa-user"></i> Prénom *
            </label>
            <input
              type="text"
              id="prenom"
              formControlName="prenom"
              placeholder="Jean"
              [class.error]="f['prenom'].invalid && f['prenom'].touched"
            />
            <div class="error-message" *ngIf="f['prenom'].invalid && f['prenom'].touched">
              Le prénom est requis (minimum 2 caractères)
            </div>
          </div>

          <div class="form-group">
            <label for="nom">
              <i class="fas fa-user"></i> Nom *
            </label>
            <input
              type="text"
              id="nom"
              formControlName="nom"
              placeholder="Dupont"
              [class.error]="f['nom'].invalid && f['nom'].touched"
            />
            <div class="error-message" *ngIf="f['nom'].invalid && f['nom'].touched">
              Le nom est requis (minimum 3 caractères)
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="matiere">
              <i class="fas fa-book"></i> Matière enseignée *
            </label>
            <select id="matiere" formControlName="matiere" [class.error]="f['matiere'].invalid && f['matiere'].touched">
              <option value="">Sélectionner une matière</option>
              <option *ngFor="let matiere of matieres" [value]="matiere">{{ matiere }}</option>
            </select>
            <div class="error-message" *ngIf="f['matiere'].invalid && f['matiere'].touched">
              La matière est requise
            </div>
          </div>

          <div class="form-group">
            <label for="disponibilite">
              <i class="fas fa-clock"></i> Disponibilité *
            </label>
            <select id="disponibilite" formControlName="disponibilite" [class.error]="f['disponibilite'].invalid && f['disponibilite'].touched">
              <option value="">Sélectionner votre disponibilité</option>
              <option *ngFor="let dispo of disponibilites" [value]="dispo">{{ dispo }}</option>
            </select>
            <div class="error-message" *ngIf="f['disponibilite'].invalid && f['disponibilite'].touched">
              La disponibilité est requise
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="niveauEnseigne">
              <i class="fas fa-graduation-cap"></i> Niveau enseigné *
            </label>
            <select id="niveauEnseigne" formControlName="niveauEnseigne" [class.error]="f['niveauEnseigne'].invalid && f['niveauEnseigne'].touched">
              <option value="">Sélectionner un niveau</option>
              <option *ngFor="let niveau of niveaux" [value]="niveau">{{ niveau }}</option>
            </select>
            <div class="error-message" *ngIf="f['niveauEnseigne'].invalid && f['niveauEnseigne'].touched">
              Le niveau est requis
            </div>
          </div>

          <div class="form-group">
            <label for="ville">
              <i class="fas fa-map-marker-alt"></i> Ville *
            </label>
            <input
              type="text"
              id="ville"
              formControlName="ville"
              placeholder="Paris"
              [class.error]="f['ville'].invalid && f['ville'].touched"
            />
            <div class="error-message" *ngIf="f['ville'].invalid && f['ville'].touched">
              La ville est requise
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="prixParHeure">
              <i class="fas fa-euro-sign"></i> Prix par heure (€) *
            </label>
            <input
              type="number"
              id="prixParHeure"
              formControlName="prixParHeure"
              placeholder="25"
              min="1"
              [class.error]="f['prixParHeure'].invalid && f['prixParHeure'].touched"
            />
            <div class="error-message" *ngIf="f['prixParHeure'].invalid && f['prixParHeure'].touched">
              Le prix est requis (minimum 1€)
            </div>
          </div>

          <div class="form-group">
            <label for="anneesExperience">
              <i class="fas fa-calendar-alt"></i> Années d'expérience *
            </label>
            <input
              type="number"
              id="anneesExperience"
              formControlName="anneesExperience"
              placeholder="5"
              min="0"
              [class.error]="f['anneesExperience'].invalid && f['anneesExperience'].touched"
            />
            <div class="error-message" *ngIf="f['anneesExperience'].invalid && f['anneesExperience'].touched">
              Les années d'expérience sont requises
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="coursEnLigne" />
              <span><i class="fas fa-laptop"></i> Je propose des cours en ligne</span>
            </label>
          </div>

          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="coursADomicile" />
              <span><i class="fas fa-home"></i> Je propose des cours à domicile</span>
            </label>
          </div>
        </div>
      </div>

      <!-- Section 3: Description -->
      <div class="form-section">
        <h2><i class="fas fa-align-left"></i> Description</h2>

        <div class="form-group">
          <label for="descriptionCourte">
            <i class="fas fa-align-left"></i> Description courte * (minimum 20 caractères)
          </label>
          <textarea
            id="descriptionCourte"
            formControlName="descriptionCourte"
            rows="3"
            placeholder="Une brève description de votre méthode d'enseignement..."
            [class.error]="f['descriptionCourte'].invalid && f['descriptionCourte'].touched"
          ></textarea>
          <div class="error-message" *ngIf="f['descriptionCourte'].invalid && f['descriptionCourte'].touched">
            La description courte est requise (minimum 20 caractères)
          </div>
        </div>

        <div class="form-group">
          <label for="descriptionComplete">
            <i class="fas fa-file-alt"></i> Description complète (optionnel)
          </label>
          <textarea
            id="descriptionComplete"
            formControlName="descriptionComplete"
            rows="5"
            placeholder="Une description détaillée de votre parcours, méthode d'enseignement, etc."
          ></textarea>
        </div>
      </div>

      <!-- Section 4: Diplômes -->
      <div class="form-section">
        <h2><i class="fas fa-certificate"></i> Diplômes et qualifications</h2>

        <div class="form-group">
          <label for="diplomes">
            <i class="fas fa-certificate"></i> Diplômes (un par ligne)
          </label>
          <textarea
            id="diplomes"
            formControlName="diplomes"
            rows="4"
            placeholder="Master en Mathématiques&#10;CAPES Mathématiques&#10;..."
          ></textarea>
        </div>
      </div>

      <div class="error-message global-error" *ngIf="errorMessage">
        <i class="fas fa-exclamation-circle"></i> {{ errorMessage }}
      </div>

      <div class="success-message" *ngIf="successMessage">
        <i class="fas fa-check-circle"></i> {{ successMessage }}
      </div>

      <div class="form-actions">
        <button type="submit" class="btn-primary" [disabled]="isLoading">
          <span *ngIf="!isLoading">
            <i class="fas fa-user-plus"></i> Créer mon compte professeur
          </span>
          <span *ngIf="isLoading">
            <i class="fas fa-spinner fa-spin"></i> Création en cours...
          </span>
        </button>
        <a routerLink="/" class="btn-secondary">Annuler</a>
      </div>

      <div class="form-footer">
        <p>Vous avez déjà un compte ? <a routerLink="/professeur/connexion">Se connecter</a></p>
        <p>Vous êtes un client ? <a routerLink="/inscription">Inscription client</a></p>
      </div>
    </form>
  </div>
</div>
